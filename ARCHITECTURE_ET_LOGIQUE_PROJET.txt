â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    ARCHITECTURE ET LOGIQUE DU PROJET COLLECTEVP
                          Guide Complet pour DÃ©butants
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ TABLE DES MATIÃˆRES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Vue d'ensemble du projet
2. Architecture gÃ©nÃ©rale (Frontend/Backend)
3. Structure des dossiers et fichiers
4. Les outils essentiels
5. Le flux de donnÃ©es (Comment Ã§a marche ?)
6. Les concepts clÃ©s expliquÃ©s
7. Exemples concrets

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
1. VUE D'ENSEMBLE DU PROJET
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CollectEVP est une application web pour gÃ©rer les Ã‰lÃ©ments Variables de Paie.

ğŸ¯ BUT DU PROJET :
- Les gestionnaires saisissent les primes et congÃ©s de leurs employÃ©s
- Les responsables valident ces donnÃ©es
- Le RH consulte et exporte les donnÃ©es validÃ©es
- Tout est stockÃ© dans une base de donnÃ©es

ğŸ—ï¸ ARCHITECTURE :
Le projet est divisÃ© en 2 parties principales :

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FRONTEND (React)                         â”‚
â”‚  Ce que l'utilisateur voit et utilise dans son navigateur       â”‚
â”‚  - Interface utilisateur (boutons, formulaires, tableaux)       â”‚
â”‚  - Port : 3000 (http://localhost:3000)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†• (Communication HTTP/JSON)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         BACKEND (Symfony)                        â”‚
â”‚  Le serveur qui traite les demandes et gÃ¨re les donnÃ©es         â”‚
â”‚  - API REST (endpoints)                                         â”‚
â”‚  - Base de donnÃ©es                                              â”‚
â”‚  - Port : 8080 (http://127.0.0.1:8080)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2. ARCHITECTURE GÃ‰NÃ‰RALE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           FRONTEND (React)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚  Composants  â”‚â”€â”€â”€â–¶â”‚   Services  â”‚â”€â”€â”€â–¶â”‚     API      â”‚             â”‚
â”‚  â”‚   (UI)       â”‚    â”‚   (Logique) â”‚    â”‚  (RequÃªtes)   â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                                         â”‚
â”‚  Exemples :                                                             â”‚
â”‚  - LoginPage.tsx : Page de connexion                                   â”‚
â”‚  - RHPage.tsx : Page pour le service RH                                â”‚
â”‚  - GestionnaireHomePage.tsx : Page pour les gestionnaires              â”‚
â”‚  - api.ts : Fichier qui fait les appels au backend                     â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚ HTTP Requests (GET, POST, PUT, DELETE)
                                    â”‚ JSON Data
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           BACKEND (Symfony)                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ Controllers  â”‚â”€â”€â”€â–¶â”‚  Entities   â”‚â”€â”€â”€â–¶â”‚  Repository  â”‚             â”‚
â”‚  â”‚  (Routes)    â”‚    â”‚  (ModÃ¨les)  â”‚    â”‚  (RequÃªtes)   â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚         â”‚                    â”‚                    â”‚                    â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                    â”‚                                    â”‚
â”‚                                    â–¼                                    â”‚
â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚                          â”‚ Base de      â”‚                              â”‚
â”‚                          â”‚ DonnÃ©es      â”‚                              â”‚
â”‚                          â”‚ (SQLite)     â”‚                              â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                                                                         â”‚
â”‚  Exemples :                                                             â”‚
â”‚  - AuthController.php : GÃ¨re la connexion                              â”‚
â”‚  - EmployeeController.php : GÃ¨re les employÃ©s                           â”‚
â”‚  - User.php : ModÃ¨le pour les utilisateurs                             â”‚
â”‚  - Employee.php : ModÃ¨le pour les employÃ©s                              â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
3. STRUCTURE DES DOSSIERS ET FICHIERS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ RACINE DU PROJET
â”œâ”€â”€ ğŸ“ backend/                    â† BACKEND SYMPHONY (PHP)
â”‚   â”œâ”€â”€ ğŸ“ src/                    â† CODE SOURCE PHP
â”‚   â”‚   â”œâ”€â”€ ğŸ“ Controller/         â† Les routes API (endpoints)
â”‚   â”‚   â”‚   â”œâ”€â”€ AuthController.php      â†’ GÃ¨re /api/login, /api/me
â”‚   â”‚   â”‚   â”œâ”€â”€ EmployeeController.php  â†’ GÃ¨re /api/employees
â”‚   â”‚   â”‚   â””â”€â”€ EVPController.php        â†’ GÃ¨re /api/evp/submissions
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ Entity/             â† Les modÃ¨les de donnÃ©es (ORM)
â”‚   â”‚   â”‚   â”œâ”€â”€ User.php                 â†’ ModÃ¨le utilisateur
â”‚   â”‚   â”‚   â”œâ”€â”€ Employee.php             â†’ ModÃ¨le employÃ©
â”‚   â”‚   â”‚   â”œâ”€â”€ EVPSubmission.php        â†’ ModÃ¨le soumission EVP
â”‚   â”‚   â”‚   â”œâ”€â”€ ValidationHistory.php    â†’ ModÃ¨le historique validation
â”‚   â”‚   â”‚   â””â”€â”€ MonthlyBudget.php        â†’ ModÃ¨le budget mensuel
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ Repository/         â† AccÃ¨s Ã  la base de donnÃ©es
â”‚   â”‚   â”‚   â”œâ”€â”€ UserRepository.php       â†’ RequÃªtes SQL pour User
â”‚   â”‚   â”‚   â”œâ”€â”€ EmployeeRepository.php   â†’ RequÃªtes SQL pour Employee
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ Security/           â† SÃ©curitÃ© et authentification
â”‚   â”‚   â”‚   â”œâ”€â”€ JWTAuthenticationSuccessHandler.php
â”‚   â”‚   â”‚   â””â”€â”€ JWTAuthenticationFailureHandler.php
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ EventListener/      â† Ã‰vÃ©nements (CORS, JWT, etc.)
â”‚   â”‚   â”‚   â”œâ”€â”€ CORSListener.php         â†’ GÃ¨re les requÃªtes CORS
â”‚   â”‚   â”‚   â””â”€â”€ CORSPreflightListener.php
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ ğŸ“ DataFixtures/       â† DonnÃ©es de test
â”‚   â”‚       â”œâ”€â”€ UserFixtures.php        â†’ CrÃ©e les utilisateurs de test
â”‚   â”‚       â””â”€â”€ EmployeeFixtures.php    â†’ CrÃ©e les employÃ©s de test
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ config/                 â† CONFIGURATION SYMPHONY
â”‚   â”‚   â”œâ”€â”€ ğŸ“ packages/           â† Configuration des bundles
â”‚   â”‚   â”‚   â”œâ”€â”€ doctrine.yaml           â†’ Configuration base de donnÃ©es
â”‚   â”‚   â”‚   â”œâ”€â”€ security.yaml           â†’ Configuration sÃ©curitÃ©
â”‚   â”‚   â”‚   â””â”€â”€ lexik_jwt_authentication.yaml â†’ Configuration JWT
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ routes.yaml            â† DÃ©finition des routes API
â”‚   â”‚   â””â”€â”€ services.yaml          â† Configuration des services
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ migrations/             â† Migrations base de donnÃ©es
â”‚   â”‚   â””â”€â”€ Version20251201150852.php â†’ CrÃ©e les tables
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ public/                 â† Point d'entrÃ©e web
â”‚   â”‚   â””â”€â”€ index.php              â†’ Fichier qui reÃ§oit les requÃªtes
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ var/                    â† Fichiers variables
â”‚   â”‚   â”œâ”€â”€ data.db                â†’ BASE DE DONNÃ‰ES SQLite
â”‚   â”‚   â”œâ”€â”€ cache/                 â†’ Cache Symfony
â”‚   â”‚   â””â”€â”€ log/                   â†’ Logs de l'application
â”‚   â”‚
â”‚   â””â”€â”€ composer.json              â† DÃ©pendances PHP
â”‚
â”œâ”€â”€ ğŸ“ src/                        â† FRONTEND REACT
â”‚   â”œâ”€â”€ ğŸ“ components/             â† Composants React (UI)
â”‚   â”‚   â”œâ”€â”€ LoginPage.tsx               â†’ Page de connexion
â”‚   â”‚   â”œâ”€â”€ RHPage.tsx                  â†’ Page RH
â”‚   â”‚   â”œâ”€â”€ GestionnaireHomePage.tsx    â†’ Page gestionnaire
â”‚   â”‚   â”œâ”€â”€ AdminPage.tsx               â†’ Page administrateur
â”‚   â”‚   â””â”€â”€ ğŸ“ ui/                      â†’ Composants UI rÃ©utilisables
â”‚   â”‚       â”œâ”€â”€ button.tsx
â”‚   â”‚       â”œâ”€â”€ card.tsx
â”‚   â”‚       â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ services/               â† Services (logique mÃ©tier)
â”‚   â”‚   â””â”€â”€ api.ts                 â†’ Fichier qui fait les appels API
â”‚   â”‚
â”‚   â”œâ”€â”€ App.tsx                    â†’ Composant principal
â”‚   â””â”€â”€ main.tsx                   â†’ Point d'entrÃ©e React
â”‚
â”œâ”€â”€ ğŸ“ node_modules/               â† DÃ©pendances JavaScript (ignorÃ© par Git)
â”œâ”€â”€ package.json                   â† DÃ©pendances JavaScript
â”œâ”€â”€ vite.config.ts                 â† Configuration Vite (build tool)
â””â”€â”€ .gitignore                     â† Fichiers Ã  ignorer par Git

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
4. LES OUTILS ESSENTIELS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”§ OUTILS BACKEND (Symfony/PHP)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. SYMPHONY FRAMEWORK
   â””â”€> Framework PHP qui structure le code
   â””â”€> GÃ¨re les routes, la sÃ©curitÃ©, les services
   â””â”€> Fichiers : backend/config/*.yaml

2. DOCTRINE ORM (Object-Relational Mapping)
   â””â”€> Convertit les objets PHP en tables SQL
   â””â”€> Permet d'utiliser PHP au lieu de SQL direct
   â””â”€> Fichiers : 
       - backend/src/Entity/*.php (les modÃ¨les)
       - backend/src/Repository/*.php (les requÃªtes)
       - backend/config/packages/doctrine.yaml (configuration)

3. SQLite (Base de donnÃ©es)
   â””â”€> Base de donnÃ©es lÃ©gÃ¨re (un seul fichier)
   â””â”€> Fichier : backend/var/data.db
   â””â”€> Tables : users, employees, evp_submissions, etc.

4. JWT (JSON Web Token)
   â””â”€> SystÃ¨me d'authentification par token
   â””â”€> Quand vous vous connectez, vous recevez un token
   â””â”€> Ce token est envoyÃ© Ã  chaque requÃªte pour prouver votre identitÃ©
   â””â”€> Fichiers :
       - backend/config/jwt/private.pem (clÃ© privÃ©e)
       - backend/config/jwt/public.pem (clÃ© publique)

5. CORS (Cross-Origin Resource Sharing)
   â””â”€> Permet au frontend (port 3000) de communiquer avec le backend (port 8080)
   â””â”€> Fichiers : backend/src/EventListener/CORSListener.php

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ”§ OUTILS FRONTEND (React/TypeScript)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. REACT
   â””â”€> BibliothÃ¨que JavaScript pour crÃ©er des interfaces
   â””â”€> Utilise des "composants" (boutons, formulaires, etc.)
   â””â”€> Fichiers : src/components/*.tsx

2. TYPESCRIPT
   â””â”€> JavaScript avec des types (plus sÃ»r)
   â””â”€> Fichiers : *.tsx, *.ts

3. VITE
   â””â”€> Outil de build (compile le code pour le navigateur)
   â””â”€> Serveur de dÃ©veloppement (http://localhost:3000)
   â””â”€> Fichier : vite.config.ts

4. TAILWIND CSS
   â””â”€> Framework CSS (pour le style)
   â””â”€> Classes utilitaires (bg-blue-500, text-center, etc.)

5. SHADCN/UI
   â””â”€> Composants UI prÃ©-construits (boutons, cartes, etc.)
   â””â”€> Fichiers : src/components/ui/*.tsx

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
5. LE FLUX DE DONNÃ‰ES (Comment Ã§a marche ?)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š EXEMPLE : Connexion d'un utilisateur
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Ã‰TAPE 1 : L'utilisateur saisit email/mot de passe
   â””â”€> Fichier : src/components/LoginPage.tsx
   â””â”€> L'utilisateur clique sur "Se connecter"

Ã‰TAPE 2 : Le frontend envoie une requÃªte au backend
   â””â”€> Fichier : src/services/api.ts
   â””â”€> Fonction : login(email, password)
   â””â”€> RequÃªte HTTP POST vers : http://127.0.0.1:8080/api/login
   â””â”€> DonnÃ©es envoyÃ©es : { "email": "...", "password": "..." }

Ã‰TAPE 3 : Le backend reÃ§oit la requÃªte
   â””â”€> Fichier : backend/src/Controller/AuthController.php
   â””â”€> MÃ©thode : login()
   â””â”€> VÃ©rifie les identifiants dans la base de donnÃ©es

Ã‰TAPE 4 : Le backend interroge la base de donnÃ©es
   â””â”€> Fichier : backend/src/Repository/UserRepository.php
   â””â”€> Doctrine ORM fait : SELECT * FROM users WHERE email = ...
   â””â”€> Fichier BDD : backend/var/data.db

Ã‰TAPE 5 : Le backend gÃ©nÃ¨re un token JWT
   â””â”€> Si les identifiants sont corrects
   â””â”€> CrÃ©e un token JWT avec les infos de l'utilisateur
   â””â”€> Retourne : { "token": "...", "user": {...} }

Ã‰TAPE 6 : Le frontend reÃ§oit le token
   â””â”€> Fichier : src/services/api.ts
   â””â”€> Stocke le token dans localStorage
   â””â”€> Redirige vers la page appropriÃ©e (RH, Gestionnaire, etc.)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“Š EXEMPLE : Ajout d'un employÃ© par le RH
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Ã‰TAPE 1 : Le RH remplit le formulaire
   â””â”€> Fichier : src/components/RHPage.tsx
   â””â”€> Saisit : matricule, nom, prÃ©nom, poste, service, division

Ã‰TAPE 2 : Le frontend envoie les donnÃ©es
   â””â”€> Fichier : src/services/api.ts
   â””â”€> Fonction : createEmployee(employeeData)
   â””â”€> RequÃªte HTTP POST vers : http://127.0.0.1:8080/api/employees
   â””â”€> Headers : Authorization: Bearer <token>
   â””â”€> Body : { "matricule": "...", "nom": "...", ... }

Ã‰TAPE 3 : Le backend vÃ©rifie les permissions
   â””â”€> Fichier : backend/src/Controller/EmployeeController.php
   â””â”€> VÃ©rifie que l'utilisateur a le rÃ´le "ROLE_RH"
   â””â”€> Si non autorisÃ© â†’ Erreur 403

Ã‰TAPE 4 : Le backend crÃ©e l'employÃ©
   â””â”€> Fichier : backend/src/Entity/Employee.php
   â””â”€> CrÃ©e un nouvel objet Employee avec les donnÃ©es
   â””â”€> Doctrine ORM fait : INSERT INTO employees (...)

Ã‰TAPE 5 : Le backend sauvegarde dans la base de donnÃ©es
   â””â”€> Doctrine ORM exÃ©cute la requÃªte SQL
   â””â”€> Fichier BDD : backend/var/data.db
   â””â”€> Table : employees

Ã‰TAPE 6 : Le backend retourne l'employÃ© crÃ©Ã©
   â””â”€> Retourne : { "id": 1, "matricule": "...", ... }

Ã‰TAPE 7 : Le frontend met Ã  jour l'affichage
   â””â”€> Fichier : src/components/RHPage.tsx
   â””â”€> Ajoute l'employÃ© Ã  la liste affichÃ©e
   â””â”€> Affiche un message de succÃ¨s

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
6. LES CONCEPTS CLÃ‰S EXPLIQUÃ‰S
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”‘ CONCEPT 1 : ENTITÃ‰ (Entity)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Une entitÃ© = Un modÃ¨le de donnÃ©es = Une table dans la base de donnÃ©es

Exemple : Employee.php
  - ReprÃ©sente la table "employees" dans la BDD
  - Contient les propriÃ©tÃ©s : id, matricule, nom, prenom, poste, service, division
  - Doctrine ORM convertit automatiquement cet objet PHP en table SQL

Fichier : backend/src/Entity/Employee.php
  class Employee {
    private ?int $id;
    private ?string $matricule;
    private ?string $nom;
    // ...
  }

Table SQL crÃ©Ã©e automatiquement :
  CREATE TABLE employees (
    id INTEGER PRIMARY KEY,
    matricule VARCHAR(50),
    nom VARCHAR(255),
    prenom VARCHAR(255),
    ...
  );

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ”‘ CONCEPT 2 : REPOSITORY
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Un repository = AccÃ¨s Ã  la base de donnÃ©es pour une entitÃ©

Exemple : EmployeeRepository.php
  - Contient les mÃ©thodes pour interroger la table "employees"
  - MÃ©thodes : findAll(), find($id), findBy(...), etc.
  - Doctrine ORM gÃ©nÃ¨re automatiquement les requÃªtes SQL

Fichier : backend/src/Repository/EmployeeRepository.php
  class EmployeeRepository {
    public function findAll(): array {
      // Doctrine gÃ©nÃ¨re : SELECT * FROM employees
    }
  }

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ”‘ CONCEPT 3 : CONTROLLER
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Un controller = GÃ¨re les routes API (endpoints)

Exemple : EmployeeController.php
  - Route : GET /api/employees â†’ MÃ©thode list()
  - Route : POST /api/employees â†’ MÃ©thode create()
  - Route : PUT /api/employees/{id} â†’ MÃ©thode update()
  - Route : DELETE /api/employees/{id} â†’ MÃ©thode delete()

Fichier : backend/src/Controller/EmployeeController.php
  #[Route('/api/employees', methods: ['GET'])]
  public function list(): JsonResponse {
    $employees = $this->employeeRepository->findAll();
    return new JsonResponse($employees);
  }

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ”‘ CONCEPT 4 : MIGRATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Une migration = Script qui modifie la structure de la base de donnÃ©es

Exemple : Version20251201150852.php
  - CrÃ©e les tables : users, employees, evp_submissions, etc.
  - S'exÃ©cute une seule fois
  - Permet de versionner les changements de BDD

Commande : php bin/console doctrine:migrations:migrate

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ”‘ CONCEPT 5 : FIXTURES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Des fixtures = DonnÃ©es de test pour la base de donnÃ©es

Exemple : EmployeeFixtures.php
  - CrÃ©e 24 employÃ©s de test
  - S'exÃ©cute avec : php bin/console doctrine:fixtures:load
  - Utile pour tester l'application

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ”‘ CONCEPT 6 : JWT (JSON Web Token)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
JWT = SystÃ¨me d'authentification par token

1. L'utilisateur se connecte avec email/password
2. Le backend vÃ©rifie les identifiants
3. Si correct, le backend gÃ©nÃ¨re un token JWT
4. Le token contient : { "id": 1, "email": "...", "role": "RH" }
5. Le frontend stocke le token
6. Ã€ chaque requÃªte, le frontend envoie : Authorization: Bearer <token>
7. Le backend vÃ©rifie le token et identifie l'utilisateur

Fichiers :
  - backend/config/jwt/private.pem (pour signer le token)
  - backend/config/jwt/public.pem (pour vÃ©rifier le token)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ”‘ CONCEPT 7 : CORS (Cross-Origin Resource Sharing)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
CORS = Permet Ã  2 serveurs diffÃ©rents de communiquer

ProblÃ¨me :
  - Frontend : http://localhost:3000
  - Backend : http://127.0.0.1:8080
  - Par dÃ©faut, le navigateur bloque les requÃªtes entre domaines diffÃ©rents

Solution :
  - Le backend envoie des headers CORS
  - Headers : Access-Control-Allow-Origin: http://localhost:3000
  - Le navigateur autorise alors les requÃªtes

Fichiers :
  - backend/src/EventListener/CORSListener.php
  - backend/src/EventListener/CORSPreflightListener.php

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
7. EXEMPLES CONCRETS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ EXEMPLE 1 : Structure d'une requÃªte API
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

FRONTEND (src/services/api.ts) :
  export const getEmployees = async (): Promise<Employee[]> => {
    const response = await apiRequest('/employees');
    const data = await response.json();
    return data;
  };

BACKEND (backend/src/Controller/EmployeeController.php) :
  #[Route('/api/employees', methods: ['GET'])]
  public function list(): JsonResponse {
    $employees = $this->employeeRepository->findAll();
    return new JsonResponse($employees);
  }

FLUX :
  1. Frontend appelle getEmployees()
  2. RequÃªte HTTP GET â†’ http://127.0.0.1:8080/api/employees
  3. Backend reÃ§oit la requÃªte dans EmployeeController::list()
  4. Backend interroge la BDD via EmployeeRepository::findAll()
  5. Backend retourne JSON : [{ "id": 1, "matricule": "45872", ... }, ...]
  6. Frontend reÃ§oit les donnÃ©es et les affiche

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“ EXEMPLE 2 : Structure d'une entitÃ©
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

FICHIER : backend/src/Entity/Employee.php

  class Employee {
    private ?int $id;                    â†’ Colonne "id" (clÃ© primaire)
    private ?string $matricule;           â†’ Colonne "matricule"
    private ?string $nom;                 â†’ Colonne "nom"
    private ?string $prenom;              â†’ Colonne "prenom"
    private ?string $poste;               â†’ Colonne "poste"
    private ?string $service;              â†’ Colonne "service"
    private ?string $division;             â†’ Colonne "division"
    
    // MÃ©thodes getter/setter
    public function getMatricule(): ?string { return $this->matricule; }
    public function setMatricule(string $matricule): self { ... }
  }

TABLE SQL gÃ©nÃ©rÃ©e automatiquement :
  CREATE TABLE employees (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    matricule VARCHAR(50) UNIQUE,
    nom VARCHAR(255),
    prenom VARCHAR(255),
    poste VARCHAR(255),
    service VARCHAR(255),
    division VARCHAR(255),
    created_at DATETIME,
    updated_at DATETIME
  );

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“ EXEMPLE 3 : Authentification JWT
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Ã‰TAPE 1 : Connexion
  POST http://127.0.0.1:8080/api/login
  Body: { "email": "rh@ocp.ma", "password": "password123" }
  
  RÃ©ponse :
  {
    "token": "eyJ0eXAiOiJKV1QiLCJhbGc...",
    "user": {
      "id": 4,
      "email": "rh@ocp.ma",
      "name": "Mohammed Tazi",
      "role": "RH"
    }
  }

Ã‰TAPE 2 : Utilisation du token
  GET http://127.0.0.1:8080/api/employees
  Headers: {
    "Authorization": "Bearer eyJ0eXAiOiJKV1QiLCJhbGc..."
  }
  
  Le backend :
  1. Extrait le token du header
  2. VÃ©rifie la signature avec la clÃ© publique
  3. DÃ©code les informations (id, email, role)
  4. Identifie l'utilisateur
  5. VÃ©rifie les permissions (ROLE_RH pour crÃ©er un employÃ©)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
8. RÃ‰SUMÃ‰ : CHEMIN D'UNE REQUÃŠTE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

QUAND VOUS CLIQUEZ SUR "AJOUTER UN EMPLOYÃ‰" :

1. src/components/RHPage.tsx
   â””â”€> handleAddEmployee() est appelÃ©

2. src/services/api.ts
   â””â”€> createEmployee() fait une requÃªte POST

3. RequÃªte HTTP
   â””â”€> POST http://127.0.0.1:8080/api/employees
   â””â”€> Headers: Authorization: Bearer <token>
   â””â”€> Body: { "matricule": "...", "nom": "...", ... }

4. backend/src/Controller/EmployeeController.php
   â””â”€> create() reÃ§oit la requÃªte
   â””â”€> VÃ©rifie les permissions (ROLE_RH)

5. backend/src/Entity/Employee.php
   â””â”€> CrÃ©e un nouvel objet Employee

6. Doctrine ORM
   â””â”€> Convertit l'objet en requÃªte SQL
   â””â”€> INSERT INTO employees (...)

7. backend/var/data.db
   â””â”€> La base de donnÃ©es sauvegarde les donnÃ©es

8. backend/src/Controller/EmployeeController.php
   â””â”€> Retourne l'employÃ© crÃ©Ã© en JSON

9. src/services/api.ts
   â””â”€> ReÃ§oit la rÃ©ponse JSON

10. src/components/RHPage.tsx
    â””â”€> Met Ã  jour l'affichage avec le nouvel employÃ©

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
9. COMMANDES UTILES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

BACKEND :
  php bin/console doctrine:migrations:migrate    â†’ Appliquer les migrations
  php bin/console doctrine:fixtures:load         â†’ Charger les donnÃ©es de test
  php bin/console cache:clear                    â†’ Vider le cache
  php bin/console debug:router                   â†’ Voir toutes les routes
  php -S 127.0.0.1:8080 -t public               â†’ DÃ©marrer le serveur

FRONTEND :
  npm install                                     â†’ Installer les dÃ©pendances
  npm run dev                                     â†’ DÃ©marrer le serveur de dev
  npm run build                                   â†’ Compiler pour production

BASE DE DONNÃ‰ES :
  sqlite3 backend/var/data.db                     â†’ Ouvrir la BDD
  .tables                                         â†’ Voir les tables
  SELECT * FROM employees;                         â†’ Voir les employÃ©s

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
10. GLOSSAIRE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

API (Application Programming Interface)
  â†’ Interface qui permet Ã  2 applications de communiquer

Endpoint
  â†’ Une URL spÃ©cifique de l'API (ex: /api/employees)

ORM (Object-Relational Mapping)
  â†’ Convertit les objets en tables SQL automatiquement

Migration
  â†’ Script qui modifie la structure de la base de donnÃ©es

Repository
  â†’ Classe qui gÃ¨re l'accÃ¨s Ã  la base de donnÃ©es pour une entitÃ©

Entity
  â†’ ModÃ¨le de donnÃ©es (reprÃ©sente une table SQL)

Controller
  â†’ Classe qui gÃ¨re les routes API

JWT (JSON Web Token)
  â†’ Token d'authentification sÃ©curisÃ©

CORS
  â†’ MÃ©canisme qui permet Ã  2 serveurs diffÃ©rents de communiquer

Fixture
  â†’ DonnÃ©es de test pour la base de donnÃ©es

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                            FIN DU DOCUMENT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

